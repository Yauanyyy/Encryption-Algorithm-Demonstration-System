### 算法详细介绍

**历史背景：**
Playfair 密码实际上由英国发明家和物理学家 Charles Wheatstone 在 1854 年发明，但它以 Lord Playfair（Lord Lyon Playfair）的名字命名，因为 Playfair 推广了该方法并在实际通信中采用。该算法旨在改进单字母替换的弱点，通过对字母对（digraph）加密提高抗频率分析能力，尤其适用于手工或电报线路加密。

**原理：**
Playfair 密码是一种基于 5x5 字母表（通常将 `I` 和 `J` 合并）的多字母替换密码，按字母对（digraph）进行替换而不是逐字母替换。通过密钥生成 5x5 方阵，并根据方阵规则对字母对进行置换。

**流程：**

1. 根据密钥构造 5x5 方阵（将密钥中的字母按顺序加入，再补入剩余字母；通常 `I` 与 `J` 合并为一）。
2. 预处理明文：去除非字母字符、将 `J` 替换为 `I`（若采用合并规则）、将明文按 2 字母一组分割；若一对中两字相同，则在第一个字后插入填充字母（如 `X`），再重分组；若最后单字，添加填充字母。
3. 对每一对字母应用替换规则：

- 若两字在同一行，则分别替换为其右侧字母（加密）或左侧字母（解密），行内循环。
- 若两字在同一列，则分别替换为其下方字母（加密）或上方字母（解密），列内循环。
- 若两字成矩形对角，则替换为同一行上对应的对角字母（保持行，列互换）。

4. 将所有替换后的字母对拼接成密文。

**安全性分析：**

Playfair 相比简单替换在抵抗单字母频率分析上有提升（因为它是基于字母对），但仍存在有限的统计特征可被利用对付（如双字母频率分析、已知明文攻击等），密钥空间也远小于现代对称密码，因此主要用于历史/教学目的。

